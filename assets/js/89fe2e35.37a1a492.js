"use strict";(self.webpackChunkgreenfield_docs=self.webpackChunkgreenfield_docs||[]).push([[7923],{80614:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>n,toc:()=>l});var r=i(87462),s=(i(67294),i(3905));const o={title:"Garbage Collection",order:11},a=void 0,n={unversionedId:"guide/storage-provider/services/gc",id:"guide/storage-provider/services/gc",title:"Garbage Collection",description:"Garbage Collection(GC) is the background service running in SP, which is used to recycle",source:"@site/docs/guide/storage-provider/services/gc.md",sourceDirName:"guide/storage-provider/services",slug:"/guide/storage-provider/services/gc",permalink:"/greenfield-docs/docs/guide/storage-provider/services/gc",draft:!1,editUrl:"https://github.com/bnb-chain/greenfield-docs/blob/main/docs/guide/storage-provider/services/gc.md",tags:[],version:"current",frontMatter:{title:"Garbage Collection",order:11},sidebar:"guideSidebar",previous:{title:"Challenge",permalink:"/greenfield-docs/docs/guide/storage-provider/services/challenge"},next:{title:"TaskNode",permalink:"/greenfield-docs/docs/guide/storage-provider/services/tasknode"}},d={},l=[],c={toc:l},u="wrapper";function g(e){let{components:t,...i}=e;return(0,s.kt)(u,(0,r.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"Garbage Collection(GC) is the background service running in SP, which is used to recycle\nthe storage space of those deleted objects on the Greenfield chain."),(0,s.kt)("p",null,"GC service is running in background periodically. It comprises below steps:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},'When SP starting up, load the metadata "BlockNumberHandledByGC" stored in the local\nmetadata database, which is used to record the block height handled by GC service;\u2028')),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Check if the previous background GC tasks have finished; if not, continue the tasks\nbased on the contexts stored in the local metadata database;\u2028")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Get the deleted object list from the metadata service based on block height, construct\nGC tasks and dispatch them to TaskNode service;\u2028")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Each TaskNode runs GC tasks to remove all the pieces of the deleted objects from piece\nstore, updates local SP's metadata as well.\u2028"))),(0,s.kt)("p",null,"It is still under development now, will be online soon."))}g.isMDXComponent=!0}}]);