"use strict";(self.webpackChunkgreenfield_docs=self.webpackChunkgreenfield_docs||[]).push([[9095],{15514:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(87462),o=(n(67294),n(3905));const a={title:"Go SDK"},i="Quickstart",s={unversionedId:"sdks/sdk-go",id:"sdks/sdk-go",title:"Go SDK",description:"The Greenfield SDK for Go provides APIs and utilities that developers can use to build Go applications that use Greenfield services, such as data storage and permission management.",source:"@site/docs/sdks/sdk-go.md",sourceDirName:"sdks",slug:"/sdks/sdk-go",permalink:"/greenfield-docs/docs/sdks/sdk-go",draft:!1,editUrl:"https://github.com/bnb-chain/greenfield-docs/blob/main/docs/sdks/sdk-go.md",tags:[],version:"current",frontMatter:{title:"Go SDK"},sidebar:"apiReferenceSidebar",previous:{title:"SDKs",permalink:"/greenfield-docs/docs/sdks/"},next:{title:"Javascript SDK",permalink:"/greenfield-docs/docs/sdks/sdk-js"}},c={},l=[{value:"Install",id:"install",level:2},{value:"Usage",id:"usage",level:2},{value:"Create client",id:"create-client",level:3},{value:"Queries",id:"queries",level:3},{value:"1. Get Current Chain Head",id:"1-get-current-chain-head",level:4},{value:"2. Get Address Balance",id:"2-get-address-balance",level:4},{value:"3. Query Storage Providers",id:"3-query-storage-providers",level:4},{value:"4. Query Storage Price",id:"4-query-storage-price",level:4},{value:"5. Query Buckets",id:"5-query-buckets",level:4},{value:"5. Query Objects",id:"5-query-objects",level:4},{value:"Transactions",id:"transactions",level:3},{value:"1. Manage Wallet",id:"1-manage-wallet",level:4},{value:"Make A Storage Deal",id:"make-a-storage-deal",level:3},{value:"1. Create a <code>storage.go</code> file",id:"1-create-a-storagego-file",level:4},{value:"2. Choose SP",id:"2-choose-sp",level:4},{value:"3. Create Buckets",id:"3-create-buckets",level:4},{value:"4. Upload Objects",id:"4-upload-objects",level:4},{value:"Object Management",id:"object-management",level:3},{value:"1. Read Object",id:"1-read-object",level:4},{value:"2. Update Object Visibility",id:"2-update-object-visibility",level:4},{value:"3. Delete Object",id:"3-delete-object",level:4},{value:"Greenfield Client Documentation",id:"greenfield-client-documentation",level:2},{value:"Usage",id:"usage-1",level:2},{value:"Usage",id:"usage-2",level:3},{value:"Type Account",id:"type-account",level:4},{value:"Type Basic",id:"type-basic",level:4},{value:"Type Bucket",id:"type-bucket",level:4},{value:"Type Challenge",id:"type-challenge",level:4},{value:"Type Client",id:"type-client",level:4},{value:"Func New",id:"func-new",level:4},{value:"Type CrossChain",id:"type-crosschain",level:4},{value:"Type Distribution",id:"type-distribution",level:4},{value:"Type FeeGrant",id:"type-feegrant",level:4},{value:"Type Group",id:"type-group",level:4},{value:"Type Object",id:"type-object",level:4},{value:"Type Option",id:"type-option",level:4},{value:"type Payment",id:"type-payment",level:4},{value:"Type Proposal",id:"type-proposal",level:4},{value:"Type SP",id:"type-sp",level:4},{value:"Type Validator",id:"type-validator",level:4},{value:"Code Repository SDK",id:"code-repository-sdk",level:2},{value:"More info",id:"more-info",level:2}],d={toc:l},p="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"quickstart"},"Quickstart"),(0,o.kt)("p",null,"The Greenfield SDK for Go provides APIs and utilities that developers can use to build Go applications that use Greenfield services, such as data storage and permission management."),(0,o.kt)("p",null,"The SDK simplifies the process of programming directly with a web service interface. It takes care of many underlying details, including authentication, retrying requests, and managing errors."),(0,o.kt)("p",null,"This guide provides configuration information, sample code, and an introduction to the SDK utilities."),(0,o.kt)("h2",{id:"install"},"Install"),(0,o.kt)("p",null,"The Greenfield SDK for Go requires ",(0,o.kt)("a",{parentName:"p",href:"https://go.dev/"},"Go 1.20 or later"),".You can view your current version of Go by running the go version command. For information about installing or upgrading your version of Go, see ",(0,o.kt)("a",{parentName:"p",href:"https://golang.org/doc/install"},"https://golang.org/doc/install"),"."),(0,o.kt)("p",null,"To install the SDK and its dependencies, run the following Go command."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Get latest\n$ go get github.com/bnb-chain/greenfield-go-sdk\n")),(0,o.kt)("p",null,"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"go.mod")," to replace dependencies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"replace (\n    cosmossdk.io/api => github.com/bnb-chain/greenfield-cosmos-sdk/api v0.0.0-20230425074444-eb5869b05fe9   \n    cosmossdk.io/math => github.com/bnb-chain/greenfield-cosmos-sdk/math v0.0.0-20230425074444-eb5869b05fe9\n    github.com/cometbft/cometbft => github.com/bnb-chain/greenfield-cometbft v0.0.2\n    github.com/cometbft/cometbft-db => github.com/bnb-chain/greenfield-cometbft-db v0.8.1-alpha.1\n    github.com/cosmos/cosmos-sdk => github.com/bnb-chain/greenfield-cosmos-sdk v0.2.3\n    github.com/cosmos/iavl => github.com/bnb-chain/greenfield-iavl v0.20.1-alpha.1\n    github.com/syndtr/goleveldb => github.com/syndtr/goleveldb v1.0.1-0.20210819022825-2ae1ddf74ef7\n)\n")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)("p",null,"Now we\u2019re ready to connect to Greenfield testnet and interact with the Greenfield APIs. Let\u2019s write a simple script to query the Greenfield version to verify if everything works as expected."),(0,o.kt)("h3",{id:"create-client"},"Create client"),(0,o.kt)("p",null,"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"main.go")," file in your project and add the following code."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "log"\n\n    "github.com/bnb-chain/greenfield-go-sdk/client"\n    "github.com/bnb-chain/greenfield-go-sdk/types"\n)\n\nconst (\n    rpcAddr     = "https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443"\n    chainId     = "greenfield_5600-1"\n    privateKey  = ""\n)\n\nfunc main() {\n    // import acccount\n    account, err := types.NewAccountFromPrivateKey("test", privateKey)\n    if err != nil {\n        log.Fatalf("New account from private key error, %v", err)\n    }\n\n    // create client\n    cli, err := client.New(chainId, rpcAddr, client.Option{DefaultAccount: account})\n    if err != nil {\n        log.Fatalf("unable to new greenfield client, %v", err)\n    }\n    ctx := context.Background()\n\n    // get node info from RPC\n    nodeInfo, versionInfo, err := cli.GetNodeInfo(ctx)\n    if err != nil {\n        log.Fatalf("unable to get node info, %v", err)\n    }\n    log.Printf("nodeInfo moniker: %s, go version: %s", nodeInfo.Moniker, versionInfo.GoVersion)\n\n    // query latest block height\n    height, err := cli.GetLatestBlockHeight(ctx)\n    if err != nil {\n        log.Fatalf("unable to get latest block height, %v", err)\n    }\n\n    log.Printf("Current block height: %d", height)\n}\n')),(0,o.kt)("p",null,"Run the following command in your project directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"go run main.go\n")),(0,o.kt)("p",null,"This will output something like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"2023/06/22 10:44:16 nodeInfo moniker: validator-a, go version: go version go1.20.4 linux/amd64\n2023/06/22 10:44:16 Current block height: 817082\n")),(0,o.kt)("p",null,"If everything is set up correctly, your code will be able to connect to the Greenfield node and return the chain data as shown above."),(0,o.kt)("h3",{id:"queries"},"Queries"),(0,o.kt)("p",null,"In the previous step, we created a ",(0,o.kt)("inlineCode",{parentName:"p"},"main.go")," file to demonstrate the basic steps to connect to the node and initialize a ",(0,o.kt)("inlineCode",{parentName:"p"},"Client")," to query chain data. Next, let\u2019s use some more functions."),(0,o.kt)("h4",{id:"1-get-current-chain-head"},"1. Get Current Chain Head"),(0,o.kt)("p",null,"We can add the following code in",(0,o.kt)("inlineCode",{parentName:"p"},"main.go"),"to query current head of the chain."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'  // query latest block height\n  blockByHeight, err := cli.GetBlockByHeight(ctx,height)\n    if err != nil {\n        log.Fatalf("unable to get block by height, %v", err)\n    }\n    log.Printf("Current block height: %d", blockByHeight.GetHeader())\n')),(0,o.kt)("h4",{id:"2-get-address-balance"},"2. Get Address Balance"),(0,o.kt)("p",null,"With a given greenfield wallet address, you can query its balance by calling ",(0,o.kt)("inlineCode",{parentName:"p"},"GetAccountBalance")," function."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // query current balance\n    balance, err := cli.GetAccountBalance(ctx, account.GetAddress().String())\n    if err != nil {\n        log.Fatalf("unable to get balance, %v", err)\n    }\n    log.Printf("%s Current balance: %s", account.GetAddress().String(), balance.String())\n')),(0,o.kt)("h4",{id:"3-query-storage-providers"},"3. Query Storage Providers"),(0,o.kt)("p",null,"In addition, the SDK provides support for querying the list of storage providers available and offers generic search capabilities for exploring metadata attributes."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    cli, err := client.New(chainId, rpcAddr, client.Option{DefaultAccount: account})\n    if err != nil {\n        log.Fatalf("unable to new greenfield client, %v", err)\n    }\n    ctx := context.Background()\n\n    // get storage providers list\n    spLists, err := cli.ListStorageProviders(ctx, true)\n    if err != nil {\n        log.Fatalf("fail to list in service sps")\n    }\n\n')),(0,o.kt)("h4",{id:"4-query-storage-price"},"4. Query Storage Price"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // choose the first sp to be the primary SP\n    primarySP := spLists[0].GetOperatorAddress()\n\n    // query price for storing data\n    price, err := cli.GetStoragePrice(ctx,primarySP)\n    if err != nil {\n        log.Fatalf("fail to list in service sps")\n    }\n\n    log.Printf("Read Price is %s and Store price is %s \\n",price.ReadPrice,price.StorePrice)\n\n')),(0,o.kt)("h4",{id:"5-query-buckets"},"5. Query Buckets"),(0,o.kt)("p",null,"You can query the bucket info like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // head bucket\n    bucketInfo, err := cli.HeadBucket(ctx, bucketName)\n    handleErr(err, "HeadBucket")\n    log.Println("bucket info:", bucketInfo.String())\n')),(0,o.kt)("h4",{id:"5-query-objects"},"5. Query Objects"),(0,o.kt)("p",null,"List all the objects under the same bucket"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // list object\n    objects, err := cli.ListObjects(ctx, bucketName, types.ListObjectsOptions{\n        ShowRemovedObject: false, Delimiter: "", MaxKeys: 100, EndPointOptions: &types.EndPointOptions{\n            Endpoint:  httpsAddr, // sp endpoint\n            SPAddress: "",\n        }})\n    log.Println("list objects result:")\n    for _, obj := range objects.Objects {\n        i := obj.ObjectInfo\n        log.Printf("object: %s, status: %s\\n", i.ObjectName, i.ObjectStatus)\n    }\n')),(0,o.kt)("p",null,"Apart from the basic data queries shown above, there are many more features. Please see the",(0,o.kt)("a",{parentName:"p",href:"https://docs.bnbchain.org/greenfield-docs/docs/api/endpoints"},"JSON-RPC API Reference"),"for all Greenfield API definitions."),(0,o.kt)("h3",{id:"transactions"},"Transactions"),(0,o.kt)("h4",{id:"1-manage-wallet"},"1. Manage Wallet"),(0,o.kt)("p",null,"Greenfield wallets hold addresses that you can use to manage objects, sign transactions, and pay for gas fees. In this section, we will demonstrate different ways to manage your wallet."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"First, let\u2019s make sure your connected node is running and the wallet address contains some testnet BNB."),(0,o.kt)("li",{parentName:"ul"},"Create a new file called ",(0,o.kt)("inlineCode",{parentName:"li"},"account.go")," in the same project as earlier. This is where we\u2019ll write all out wallet-related code."),(0,o.kt)("li",{parentName:"ul"},"In ",(0,o.kt)("inlineCode",{parentName:"li"},"account.go")," import modules and initialize your private key or mnemonic phrase.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    //import mnemonic\n    account, err := types.NewAccountFromMnemonic("test", mnemonic)\n    //import private key\n    account, err := types.NewAccountFromPrivateKey("test", privateKey)\n')),(0,o.kt)("p",null,"Let\u2019s create a second wallet address so we can test transfers. The new address will be created locally and start with 0 token balance:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    //create a differet account\n    account2, _, err := types.NewAccount("test2")\n')),(0,o.kt)("p",null,"Now, let\u2019s try to transfer tBNB to this new address. Under the hood, this will create a transaction to transfer tBNB from",(0,o.kt)("inlineCode",{parentName:"p"},"fromAddress"),"to",(0,o.kt)("inlineCode",{parentName:"p"},"toAddress"),", sign the transaction using SDK, and send the signed transaction to the Greenfield node."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // transfer token to acccount2\n    transferTxHash, err := cli.Transfer(ctx, account2.GetAddress().String(), math.NewIntFromUint64(1000000000000000000), types2.TxOption{})\n    if err != nil {\n        log.Fatalf("unable to send, %v", err)\n    }\n    log.Printf("Transfer response: %s", transferTxHash)\n\n    // wait for transaction hash\n    waitForTx, err := cli.WaitForTx(ctx, transferTxHash)\n\n    log.Printf("Wair for tx: %s", waitForTx.String())\n\n    //verify account2\'s balance\n    balance, err = cli.GetAccountBalance(ctx, account2.GetAddress().String())\n')),(0,o.kt)("p",null,"Run the code to test the transfer of tBNB:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"    go run account.go\n")),(0,o.kt)("p",null,"This will output something like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'raw_log: \'[{"msg_index":0,"events":[{"type":"message","attributes":[{"key":"action","value":"/cosmos.bank.v1beta1.MsgSend"},{"key":"sender","value":"0x525482AB3922230e4D73079890dC905dCc3D37cd"},{"key":"module","value":"bank"}]},{"type":"coin_spent","attributes":[{"key":"spender","value":"0x525482AB3922230e4D73079890dC905dCc3D37cd"},{"key":"amount","value":"1BNB"}]},{"type":"coin_received","attributes":[{"key":"receiver","value":"0x78C3A3d10B1032bB2810366361dCE84E2e92eFCB"},{"key":"amount","value":"1BNB"}]},{"type":"transfer","attributes":[{"key":"recipient","value":"0x78C3A3d10B1032bB2810366361dCE84E2e92eFCB"},{"key":"sender","value":"0x525482AB3922230e4D73079890dC905dCc3D37cd"},{"key":"amount","value":"1BNB"}]},{"type":"message","attributes":[{"key":"sender","value":"0x525482AB3922230e4D73079890dC905dCc3D37cd"}]}]}]\'\ntimestamp: "2023-06-22T20:02:19Z"\ntx:\n  \'@type\': /cosmos.tx.v1beta1.Tx\n  auth_info:\n    fee:\n      amount:\n      - amount: "6000000000000"\n        denom: BNB\n      gas_limit: "1200"\n      granter: ""\n      payer: ""\n    signer_infos:\n    - mode_info:\n        single:\n          mode: SIGN_MODE_EIP_712\n      public_key:\n        \'@type\': /cosmos.crypto.eth.ethsecp256k1.PubKey\n        key: AirjhHwjRcZ34op5yCKHtDkn91RDgFOY8cJmbHH6Tmlu\n      sequence: "12"\n    tip: null\n  body:\n    extension_options: []\n    memo: ""\n    messages:\n    - \'@type\': /cosmos.bank.v1beta1.MsgSend\n      amount:\n      - amount: "1"\n        denom: BNB\n      from_address: 0x525482AB3922230e4D73079890dC905dCc3D37cd\n      to_address: 0x78C3A3d10B1032bB2810366361dCE84E2e92eFCB\n    non_critical_extension_options: []\n    timeout_height: "0"\n  signatures:\n  - FjUNT2dzpQZhCmVTLDGMEy1uR1NaNLeYjvqQiPr2xHM5xxeYP5Mic8CSxZtg3k4WHcAIEnQNcszqBi7fsgETagA=\ntxhash: DFC2CE0514FE334B5BCB6BC3EBCCCD7A6E16B4CAEDC4FFDBE3F2FA3B6E548E61\n')),(0,o.kt)("h3",{id:"make-a-storage-deal"},"Make A Storage Deal"),(0,o.kt)("p",null,"Storing data is one of the most important features of Greenfield. In this section, we\u2019ll walk through the end-to-end process of storing your data on the Greenfield network. We\u2019ll start by importing your data, then make a storage deal with a storage provider, and finally wait for the deal to complete."),(0,o.kt)("h4",{id:"1-create-a-storagego-file"},"1. Create a ",(0,o.kt)("inlineCode",{parentName:"h4"},"storage.go")," file"),(0,o.kt)("p",null,"Create a ",(0,o.kt)("inlineCode",{parentName:"p"},"storage.go")," file in yourdemoproject and add the following boilerplate code:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'func main() {\n\n  // initialize account\n  account, err := types.NewAccountFromPrivateKey("test", privateKey)\n    log.Println("address info:", account)\n\n    if err != nil {\n        log.Fatalf("New account from private key error, %v", err)\n    }\n\n    //initialize client\n    cli, err := client.New(chainId, rpcAddr, client.Option{DefaultAccount: account})\n    if err != nil {\n        log.Fatalf("unable to new greenfield client, %v", err)\n    }\n    ctx := context.Background()\n\n    // 1. choose storage provider\n\n  // 2. Create a bucket\n\n  // 3. Upload your data and set a quota\n\n}\n')),(0,o.kt)("h4",{id:"2-choose-sp"},"2. Choose SP"),(0,o.kt)("p",null,"You can query the list of SP."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // get storage providers list\n    spLists, err := cli.ListStorageProviders(ctx, true)\n    if err != nil {\n        log.Fatalf("fail to list in service sps")\n    }\n    //choose the first sp to be the primary SP\n    primarySP := spLists[0].GetOperatorAddress()\n')),(0,o.kt)("h4",{id:"3-create-buckets"},"3. Create Buckets"),(0,o.kt)("p",null,"Bucket can be private or public. You can customize it with options."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"VISIBILITY","_","TYPE","_","PUBLIC","_","READ"),(0,o.kt)("li",{parentName:"ul"},"VISIBILITY","_","TYPE","_","PRIVATE")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"    chargedQuota := uint64(100)\n    visibility := storageTypes.VISIBILITY_TYPE_PUBLIC_READ\n    opts := types.CreateBucketOptions{Visibility: visibility, ChargedQuota: chargedQuota}\n")),(0,o.kt)("p",null,"To understand how does ",(0,o.kt)("inlineCode",{parentName:"p"},"quota")," work, read ",(0,o.kt)("a",{parentName:"p",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/core-concept/billing-payment#storage-service-fee"},"this"),"."),(0,o.kt)("h4",{id:"4-upload-objects"},"4. Upload Objects"),(0,o.kt)("p",null,"Objects can also be private or public."),(0,o.kt)("p",null,"Uploading objects is composed of two parts: ",(0,o.kt)("inlineCode",{parentName:"p"},"create")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"put"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"CreateObject")," gets an approval of creating an object and sends createObject txn to Greenfield network."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"PutObject")," supports the second stage of uploading the object to bucket.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'// create and put object\n    txnHash, err := cli.CreateObject(ctx, bucketName, objectName, bytes.NewReader(buffer.Bytes()), types.CreateObjectOptions{})\n\n    handleErr(err, "CreateObject")\n\n    // Put your object\n    err = cli.PutObject(ctx, bucketName, objectName, int64(buffer.Len()),\n        bytes.NewReader(buffer.Bytes()), types.PutObjectOptions{TxnHash: txnHash})\n    handleErr(err, "PutObject")\n\n    log.Printf("object: %s has been uploaded to SP\\n", objectName)\n\n    //wait for SP to seal your object\n    waitObjectSeal(cli, bucketName, objectName)\n')),(0,o.kt)("p",null,'The primary SP syncs with secondary SPs to set up the data redundancy, and then it signs a "',(0,o.kt)("inlineCode",{parentName:"p"},"Seal"),'" transaction with the finalized metadata for storage. If the primary SP determines that it doesn\'t want to store the file due to whatever reason, it can also "',(0,o.kt)("inlineCode",{parentName:"p"},"SealReject"),'" the request.'),(0,o.kt)("h3",{id:"object-management"},"Object Management"),(0,o.kt)("h4",{id:"1-read-object"},"1. Read Object"),(0,o.kt)("p",null,"You can call ",(0,o.kt)("inlineCode",{parentName:"p"},"GetObject")," function to download data."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // get object\n    reader, info, err := cli.GetObject(ctx, bucketName, objectName, types.GetObjectOption{})\n    handleErr(err, "GetObject")\n    log.Printf("get object %s successfully, size %d \\n", info.ObjectName, info.Size)\n    handleErr(err, "GetObject")\n    objectBytes, err := io.ReadAll(reader)\n    if !bytes.Equal(objectBytes, buffer.Bytes()) {\n        handleErr(errors.New("download content not same"), "GetObject")\n    }\n')),(0,o.kt)("h4",{id:"2-update-object-visibility"},"2. Update Object Visibility"),(0,o.kt)("p",null,"You can call ",(0,o.kt)("inlineCode",{parentName:"p"},"UpdateObjectVisibility")," to change object visibility"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"    // update object visibility\n    updateBucketTx, err := ccli.UpdateBucketVisibility(s.ClientContext, bucketName,\n    storageTypes.VISIBILITY_TYPE_PRIVATE, types.UpdateVisibilityOption{})\n")),(0,o.kt)("h4",{id:"3-delete-object"},"3. Delete Object"),(0,o.kt)("p",null,"The function ",(0,o.kt)("inlineCode",{parentName:"p"},"DeleteObject")," support deleting objects."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'    // delete object\n    delTx, err := cli.DeleteObject(ctx, bucketName, objectName, types.DeleteObjectOption{})\n    handleErr(err, "DeleteObject")\n    _, err = cli.WaitForTx(ctx, delTx)\n    if err != nil {\n        log.Fatalln("txn fail")\n    }\n    log.Printf("object: %s has been deleted\\n", objectName)\n')),(0,o.kt)("h2",{id:"greenfield-client-documentation"},"Greenfield Client Documentation"),(0,o.kt)("h2",{id:"usage-1"},"Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'    import "github.com/bnb-chain/greenfield-go-sdk/client"\n')),(0,o.kt)("p",null,"Package client provides a client for interact with greenfield storage network."),(0,o.kt)("h3",{id:"usage-2"},"Usage"),(0,o.kt)("h4",{id:"type-account"},"Type Account"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Account interface {\n    GetAccount(ctx context.Context, address string) (authTypes.AccountI, error)\n    GetAccountBalance(ctx context.Context, address string) (*sdk.Coin, error)\n    GetPaymentAccount(ctx context.Context, address string) (*paymentTypes.PaymentAccount, error)\n    GetModuleAccounts(ctx context.Context) ([]authTypes.ModuleAccountI, error)\n    GetModuleAccountByName(ctx context.Context, name string) (authTypes.ModuleAccountI, error)\n    GetPaymentAccountsByOwner(ctx context.Context, owner string) ([]*paymentTypes.PaymentAccount, error)\n\n    CreatePaymentAccount(ctx context.Context, address string, txOption gnfdSdkTypes.TxOption) (string, error)\n    Transfer(ctx context.Context, toAddress string, amount math.Int, txOption gnfdSdkTypes.TxOption) (string, error)\n    MultiTransfer(ctx context.Context, details []types.TransferDetail, txOption gnfdSdkTypes.TxOption) (string, error)\n}\n")),(0,o.kt)("h4",{id:"type-basic"},"Type Basic"),(0,o.kt)("p",null,"Basic interface defines basic functions of greenfield client."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Basic interface {\n    GetNodeInfo(ctx context.Context) (*p2p.DefaultNodeInfo, *tmservice.VersionInfo, error)\n\n    GetLatestBlockHeight(ctx context.Context) (int64, error)\n    GetLatestBlock(ctx context.Context) (*tmservice.Block, error)\n    GetSyncing(ctx context.Context) (bool, error)\n    GetBlockByHeight(ctx context.Context, height int64) (*tmservice.Block, error)\n\n    GetValidatorSet(ctx context.Context, request *query.PageRequest) (int64, []*tmservice.Validator, *query.PageResponse, error)\n\n    WaitForBlockHeight(ctx context.Context, height int64) error\n    WaitForTx(ctx context.Context, hash string) (*sdk.TxResponse, error)\n    WaitForNBlocks(ctx context.Context, n int64) error\n    WaitForNextBlock(ctx context.Context) error\n\n    SimulateTx(ctx context.Context, msgs []sdk.Msg, txOpt types.TxOption, opts ...grpc.CallOption) (*tx.SimulateResponse, error)\n    SimulateRawTx(ctx context.Context, txBytes []byte, opts ...grpc.CallOption) (*tx.SimulateResponse, error)\n    BroadcastTx(ctx context.Context, msgs []sdk.Msg, txOpt types.TxOption, opts ...grpc.CallOption) (*tx.BroadcastTxResponse, error)\n    BroadcastRawTx(ctx context.Context, txBytes []byte, sync bool) (*sdk.TxResponse, error)\n}\n")),(0,o.kt)("h4",{id:"type-bucket"},"Type Bucket"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Bucket interface {\n    GetCreateBucketApproval(ctx context.Context, createBucketMsg *storageTypes.MsgCreateBucket) (*storageTypes.MsgCreateBucket, error)\n    // CreateBucket get approval of creating bucket and send createBucket txn to greenfield chain\n    // primaryAddr indicates the HEX-encoded string of the primary storage provider address to which the bucket will be created\n    CreateBucket(ctx context.Context, bucketName string, primaryAddr string, opts types.CreateBucketOptions) (string, error)\n    DeleteBucket(ctx context.Context, bucketName string, opt types.DeleteBucketOption) (string, error)\n\n    UpdateBucketVisibility(ctx context.Context, bucketName string, visibility storageTypes.VisibilityType, opt types.UpdateVisibilityOption) (string, error)\n    UpdateBucketInfo(ctx context.Context, bucketName string, opts types.UpdateBucketOptions) (string, error)\n    UpdateBucketPaymentAddr(ctx context.Context, bucketName string, paymentAddr sdk.AccAddress, opt types.UpdatePaymentOption) (string, error)\n\n    HeadBucket(ctx context.Context, bucketName string) (*storageTypes.BucketInfo, error)\n    HeadBucketByID(ctx context.Context, bucketID string) (*storageTypes.BucketInfo, error)\n    // PutBucketPolicy put the bucket policy to the principal, return the txn hash\n    // the principal can be generated by NewPrincipalWithAccount or NewPrincipalWithGroupId\n    PutBucketPolicy(ctx context.Context, bucketName string, principal types.Principal, statements []*permTypes.Statement, opt types.PutPolicyOption) (string, error)\n    // DeleteBucketPolicy delete the bucket policy of the principal\uff0creturn the txn hash\n    // the principal can be generated by NewPrincipalWithAccount or NewPrincipalWithGroupId\n    DeleteBucketPolicy(ctx context.Context, bucketName string, principal types.Principal, opt types.DeletePolicyOption) (string, error)\n    // GetBucketPolicy get the bucket policy info of the user specified by principalAddr.\n    // principalAddr indicates the HEX-encoded string of the principal address\n    GetBucketPolicy(ctx context.Context, bucketName string, principalAddr string) (*permTypes.Policy, error)\n    // IsBucketPermissionAllowed check if the permission of bucket is allowed to the user.\n    // userAddr indicates the HEX-encoded string of the user address\n    IsBucketPermissionAllowed(ctx context.Context, userAddr string, bucketName string, action permTypes.ActionType) (permTypes.Effect, error)\n\n    ListBuckets(ctx context.Context, opts types.ListBucketsOptions) (types.ListBucketsResult, error)\n    ListBucketReadRecord(ctx context.Context, bucketName string, opts types.ListReadRecordOptions) (types.QuotaRecordInfo, error)\n\n    BuyQuotaForBucket(ctx context.Context, bucketName string, targetQuota uint64, opt types.BuyQuotaOption) (string, error)\n    GetBucketReadQuota(ctx context.Context, bucketName string) (types.QuotaInfo, error)\n    // ListBucketsByBucketID list buckets by bucket ids\n    ListBucketsByBucketID(ctx context.Context, bucketIds []uint64, opts types.EndPointOptions) (types.ListBucketsByBucketIDResponse, error)\n    GetMigrateBucketApproval(ctx context.Context, migrateBucketMsg *storageTypes.MsgMigrateBucket) (*storageTypes.MsgMigrateBucket, error)\n    MigrateBucket(ctx context.Context, bucketName string, opts types.MigrateBucketOptions) (string, error)\n}\n\n")),(0,o.kt)("h4",{id:"type-challenge"},"Type Challenge"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Challenge interface {\n    // GetChallengeInfo return the challenge hash and data results based on the objectID and index info\n    // If the sp endpoint or sp address info is not set in the GetChallengeInfoOptions, the SP endpoint will be routed by the redundancyIndex\n    GetChallengeInfo(ctx context.Context, objectID string, pieceIndex, redundancyIndex int, opts types.GetChallengeInfoOptions) (types.ChallengeResult, error)\n    SubmitChallenge(ctx context.Context, challengerAddress, spOperatorAddress, bucketName, objectName string, randomIndex bool, segmentIndex uint32, txOption gnfdsdktypes.TxOption) (*sdk.TxResponse, error)\n    AttestChallenge(ctx context.Context, submitterAddress, challengerAddress, spOperatorAddress string, challengeId uint64, objectId math.Uint, voteResult challengetypes.VoteResult, voteValidatorSet []uint64, VoteAggSignature []byte, txOption gnfdsdktypes.TxOption) (*sdk.TxResponse, error)\n    LatestAttestedChallenges(ctx context.Context, req *challengetypes.QueryLatestAttestedChallengesRequest) ([]uint64, error)\n    InturnAttestationSubmitter(ctx context.Context, req *challengetypes.QueryInturnAttestationSubmitterRequest) (*challengetypes.QueryInturnAttestationSubmitterResponse, error)\n    ChallengeParams(ctx context.Context, req *challengetypes.QueryParamsRequest) (*challengetypes.QueryParamsResponse, error)\n}\n")),(0,o.kt)("h4",{id:"type-client"},"Type Client"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Client interface {\n    Basic\n    Bucket\n    Object\n    Group\n    Challenge\n    Account\n    Payment\n    SP\n    Proposal\n    Validator\n    Distribution\n    CrossChain\n    FeeGrant\n\n    GetDefaultAccount() (*types.Account, error)\n    SetDefaultAccount(account *types.Account)\n    EnableTrace(outputStream io.Writer, onlyTraceErr bool)\n}\n")),(0,o.kt)("h4",{id:"func-new"},"Func New"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"New")," function instantiate greenfield chain with chain info, account info and options.\nendpoint indicates the rpc address of greenfield"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"func New(chainID string, endpoint string, option Option) (Client, error)\n")),(0,o.kt)("h4",{id:"type-crosschain"},"Type CrossChain"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type CrossChain interface {\n    TransferOut(ctx context.Context, toAddress string, amount math.Int, txOption gnfdSdkTypes.TxOption) (*sdk.TxResponse, error)\n\n    Claims(ctx context.Context, srcShainId, destChainId uint32, sequence uint64, timestamp uint64, payload []byte, voteAddrSet []uint64, aggSignature []byte, txOption gnfdSdkTypes.TxOption) (*sdk.TxResponse, error)\n    GetChannelSendSequence(ctx context.Context, channelId uint32) (uint64, error)\n    GetChannelReceiveSequence(ctx context.Context, channelId uint32) (uint64, error)\n    GetInturnRelayer(ctx context.Context, req *oracletypes.QueryInturnRelayerRequest) (*oracletypes.QueryInturnRelayerResponse, error)\n    GetCrossChainPackage(ctx context.Context, channelId uint32, sequence uint64) ([]byte, error)\n\n    MirrorGroup(ctx context.Context, id math.Uint, txOption gnfdSdkTypes.TxOption) (*sdk.TxResponse, error)\n    MirrorBucket(ctx context.Context, id math.Uint, txOption gnfdSdkTypes.TxOption) (*sdk.TxResponse, error)\n    MirrorObject(ctx context.Context, id math.Uint, txOption gnfdSdkTypes.TxOption) (*sdk.TxResponse, error)\n}\n")),(0,o.kt)("h4",{id:"type-distribution"},"Type Distribution"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Distribution interface {\n    SetWithdrawAddress(ctx context.Context, withdrawAddr string, txOption gnfdsdktypes.TxOption) (string, error)\n    WithdrawValidatorCommission(ctx context.Context, txOption gnfdsdktypes.TxOption) (string, error)\n    WithdrawDelegatorReward(ctx context.Context, validatorAddr string, txOption gnfdsdktypes.TxOption) (string, error)\n    FundCommunityPool(ctx context.Context, amount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n}\n")),(0,o.kt)("h4",{id:"type-feegrant"},"Type FeeGrant"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type FeeGrant interface {\n    GrantBasicAllowance(ctx context.Context, granteeAddr string, feeAllowanceAmount math.Int, expiration *time.Time, txOption gnfdsdktypes.TxOption) (string, error)\n    QueryBasicAllowance(ctx context.Context, granterAddr, granteeAddr string) (*feegrant.BasicAllowance, error)\n\n    // for generic allowance(BasicAllowance, PeriodicAllowance, AllowedMsgAllowance)\n    GrantAllowance(ctx context.Context, granteeAddr string, allowance feegrant.FeeAllowanceI, txOption gnfdsdktypes.TxOption) (string, error)\n    QueryAllowance(ctx context.Context, granterAddr, granteeAddr string) (*feegrant.Grant, error)\n    QueryAllowances(ctx context.Context, granteeAddr string) ([]*feegrant.Grant, error)\n\n    RevokeAllowance(ctx context.Context, granteeAddr string, txOption gnfdsdktypes.TxOption) (string, error)\n}\n")),(0,o.kt)("h4",{id:"type-group"},"Type Group"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Group interface {\n    // CreateGroup create a new group on greenfield chain the group members can be initialized  or not\n    CreateGroup(ctx context.Context, groupName string, opt types.CreateGroupOptions) (string, error)\n    // DeleteGroup send DeleteGroup txn to greenfield chain and return txn hash\n    DeleteGroup(ctx context.Context, groupName string, opt types.DeleteGroupOption) (string, error)\n    // UpdateGroupMember support adding or removing members from the group and return the txn hash\n    // groupOwnerAddr indicates the HEX-encoded string of the group owner address\n    // addAddresses indicates the HEX-encoded string list of the member addresses to be added\n    // removeAddresses indicates the HEX-encoded string list of the member addresses to be removed\n    UpdateGroupMember(ctx context.Context, groupName string, groupOwnerAddr string,\n        addAddresses, removeAddresses []string, opts types.UpdateGroupMemberOption) (string, error)\n    // LeaveGroup make the member leave the specific group\n    // groupOwnerAddr indicates the HEX-encoded string of the group owner address\n    LeaveGroup(ctx context.Context, groupName string, groupOwnerAddr string, opt types.LeaveGroupOption) (string, error)\n    // HeadGroup query the groupInfo on chain, return the group info if exists return err info if group not exist\n    // groupOwnerAddr indicates the HEX-encoded string of the group owner address\n    HeadGroup(ctx context.Context, groupName string, groupOwnerAddr string) (*storageTypes.GroupInfo, error)\n    // HeadGroupMember query the group member info on chain, return true if the member exists in group\n    // groupOwnerAddr indicates the HEX-encoded string of the group owner address\n    // headMember indicates the HEX-encoded string of the group member address\n    HeadGroupMember(ctx context.Context, groupName string, groupOwner, headMember string) bool\n    // PutGroupPolicy apply group policy to user specified by principalAddr, the sender need to be the owner of the group\n    // principalAddr indicates the HEX-encoded string of the principal address\n    PutGroupPolicy(ctx context.Context, groupName string, principalAddr string, statements []*permTypes.Statement, opt types.PutPolicyOption) (string, error)\n    // DeleteGroupPolicy  delete group policy of the principal, the sender need to be the owner of the group\n    // principalAddr indicates the HEX-encoded string of the principal address\n    DeleteGroupPolicy(ctx context.Context, groupName string, principalAddr string, opt types.DeletePolicyOption) (string, error)\n    // GetBucketPolicyOfGroup get the bucket policy info of the group specified by group id\n    // it queries a bucket policy that grants permission to a group\n    GetBucketPolicyOfGroup(ctx context.Context, bucketName string, groupId uint64) (*permTypes.Policy, error)\n    // GetObjectPolicyOfGroup get the object policy info of the group specified by group id\n    // it queries an object policy that grants permission to a group\n    GetObjectPolicyOfGroup(ctx context.Context, bucketName, objectName string, groupId uint64) (*permTypes.Policy, error)\n    // GetGroupPolicy get the group policy info of the user specified by principalAddr\n    GetGroupPolicy(ctx context.Context, groupName string, principalAddr string) (*permTypes.Policy, error)\n    // ListGroup get the group list by name and prefix.\n    // prefix is the start of the search pattern. The system will only return groups that start with this prefix.\n    // name is the ending of the search pattern.\n    // it providers fuzzy searches by inputting a specific name and prefix\n    ListGroup(ctx context.Context, name, prefix string, opts types.ListGroupsOptions) (types.ListGroupsResult, error)\n}\n")),(0,o.kt)("h4",{id:"type-object"},"Type Object"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Object interface {\n    GetCreateObjectApproval(ctx context.Context, createObjectMsg *storageTypes.MsgCreateObject) (*storageTypes.MsgCreateObject, error)\n    CreateObject(ctx context.Context, bucketName, objectName string, reader io.Reader, opts types.CreateObjectOptions) (string, error)\n    PutObject(ctx context.Context, bucketName, objectName string, objectSize int64, reader io.Reader, opts types.PutObjectOptions) error\n    putObjectResumable(ctx context.Context, bucketName, objectName string, objectSize int64, reader io.Reader, opts types.PutObjectOptions) error\n    FPutObject(ctx context.Context, bucketName, objectName, filePath string, opts types.PutObjectOptions) (err error)\n    CancelCreateObject(ctx context.Context, bucketName, objectName string, opt types.CancelCreateOption) (string, error)\n    DeleteObject(ctx context.Context, bucketName, objectName string, opt types.DeleteObjectOption) (string, error)\n    GetObject(ctx context.Context, bucketName, objectName string, opts types.GetObjectOptions) (io.ReadCloser, types.ObjectStat, error)\n    FGetObject(ctx context.Context, bucketName, objectName, filePath string, opts types.GetObjectOptions) error\n    FGetObjectResumable(ctx context.Context, bucketName, objectName, filePath string, opts types.GetObjectOptions) error\n\n    // HeadObject query the objectInfo on chain to check th object id, return the object info if exists\n    // return err info if object not exist\n    HeadObject(ctx context.Context, bucketName, objectName string) (*types.ObjectDetail, error)\n    // HeadObjectByID query the objectInfo on chain by object id, return the object info if exists\n    // return err info if object not exist\n    HeadObjectByID(ctx context.Context, objID string) (*types.ObjectDetail, error)\n    // UpdateObjectVisibility update the visibility of the object\n    UpdateObjectVisibility(ctx context.Context, bucketName, objectName string, visibility storageTypes.VisibilityType, opt types.UpdateObjectOption) (string, error)\n    // PutObjectPolicy apply object policy to the principal, return the txn hash\n    // The principal can be generated by NewPrincipalWithAccount or NewPrincipalWithGroupId\n    PutObjectPolicy(ctx context.Context, bucketName, objectName string, principal types.Principal,\n        statements []*permTypes.Statement, opt types.PutPolicyOption) (string, error)\n    // DeleteObjectPolicy delete the object policy of the principal, return the txn hash\n    // The principal can be generated by NewPrincipalWithAccount or NewPrincipalWithGroupId\n    DeleteObjectPolicy(ctx context.Context, bucketName, objectName string, principal types.Principal, opt types.DeletePolicyOption) (string, error)\n    // GetObjectPolicy get the object policy info of the user specified by principalAddr.\n    // principalAddr indicates the HEX-encoded string of the principal address\n    GetObjectPolicy(ctx context.Context, bucketName, objectName string, principalAddr string) (*permTypes.Policy, error)\n    // IsObjectPermissionAllowed check if the permission of the object is allowed to the user\n    // userAddr indicates the HEX-encoded string of the user address\n    IsObjectPermissionAllowed(ctx context.Context, userAddr string, bucketName, objectName string, action permTypes.ActionType) (permTypes.Effect, error)\n    ListObjects(ctx context.Context, bucketName string, opts types.ListObjectsOptions) (types.ListObjectsResult, error)\n    // ComputeHashRoots compute the integrity hash, content size and the redundancy type of the file\n    // If isSerial is true, compute the integrity hash using the serial way\n    // If isSerial is false or not provided, compute the integrity hash using the parallel way\n    ComputeHashRoots(reader io.Reader, isSerial bool) ([][]byte, int64, storageTypes.RedundancyType, error)\n\n    // CreateFolder creates an empty object used as folder.\n    // objectName must ending with a forward slash (/) character\n    CreateFolder(ctx context.Context, bucketName, objectName string, opts types.CreateObjectOptions) (string, error)\n    // GetObjectUploadProgress return the status of the uploading object\n    GetObjectUploadProgress(ctx context.Context, bucketName, objectName string) (string, error)\n\n    // GetObjectResumableUploadOffset return the status of the uploading object\n    GetObjectResumableUploadOffset(ctx context.Context, bucketName, objectName string) (uint64, error)\n    // ListObjectsByObjectID list objects by object ids\n    ListObjectsByObjectID(ctx context.Context, objectIds []uint64, opts types.EndPointOptions) (types.ListObjectsByObjectIDResponse, error)\n}\n")),(0,o.kt)("h4",{id:"type-option"},"Type Option"),(0,o.kt)("p",null,"Option is a configuration struct used to provide optional parameters to the\nclient constructor."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Option struct {\n    // GrpcDialOption is the list of gRPC dial options used to configure the connection to the blockchain node.\n    GrpcDialOption grpc.DialOption\n    // account used to set the default account of client\n    DefaultAccount *types.Account\n    // Secure is a flag that specifies whether the client should use HTTPS or not.\n    Secure bool\n    // Transport is the HTTP transport used to send requests to the storage provider endpoint.\n    Transport http.RoundTripper\n    // Host is the target sp server hostname\n    Host string\n}\n")),(0,o.kt)("h4",{id:"type-payment"},"type Payment"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Payment interface {\n    GetStreamRecord(ctx context.Context, streamAddress string) (*paymentTypes.StreamRecord, error)\n\n    Deposit(ctx context.Context, toAddress string, amount math.Int, txOption gnfdSdkTypes.TxOption) (string, error)\n    Withdraw(ctx context.Context, fromAddress string, amount math.Int, txOption gnfdSdkTypes.TxOption) (string, error)\n    DisableRefund(ctx context.Context, paymentAddress string, txOption gnfdSdkTypes.TxOption) (string, error)\n}\n")),(0,o.kt)("h4",{id:"type-proposal"},"Type Proposal"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type Proposal interface {\n    SubmitProposal(ctx context.Context, msgs []sdk.Msg, depositAmount math.Int, title, summary string, opts types.SubmitProposalOptions) (uint64, string, error)\n    VoteProposal(ctx context.Context, proposalID uint64, voteOption govTypesV1.VoteOption, opts types.VoteProposalOptions) (string, error)\n    GetProposal(ctx context.Context, proposalID uint64) (*govTypesV1.Proposal, error)\n}\n")),(0,o.kt)("h4",{id:"type-sp"},"Type SP"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},"type SP interface {\n    // ListStorageProviders return the storage provider info on chain\n    // isInService indicates if only display the sp with STATUS_IN_SERVICE status\n    ListStorageProviders(ctx context.Context, isInService bool) ([]spTypes.StorageProvider, error)\n    // GetStorageProviderInfo return the sp info with the sp chain address\n    GetStorageProviderInfo(ctx context.Context, SPAddr sdk.AccAddress) (*spTypes.StorageProvider, error)\n    // GetStoragePrice returns the storage price for a particular storage provider, including update time, read price, store price and .etc.\n    GetStoragePrice(ctx context.Context, SPAddr string) (*spTypes.SpStoragePrice, error)\n    // GetSecondarySpStorePrice returns the secondary storage price, including update time and store price\n    GetSecondarySpStorePrice(ctx context.Context) (*spTypes.SecondarySpStorePrice, error)\n    // GrantDepositForStorageProvider submit a grant transaction to allow gov module account to deduct the specified number of tokens\n    GrantDepositForStorageProvider(ctx context.Context, spAddr string, depositAmount math.Int, opts types.GrantDepositForStorageProviderOptions) (string, error)\n    // CreateStorageProvider submits a proposal to create a storage provider to the greenfield blockchain, and it returns a proposal ID\n    CreateStorageProvider(ctx context.Context, fundingAddr, sealAddr, approvalAddr, gcAddr, blsPubKey, blsProof, endpoint string, depositAmount math.Int, description spTypes.Description, opts types.CreateStorageProviderOptions) (uint64, string, error)\n    // UpdateSpStoragePrice updates the read price, storage price and free read quota for a particular storage provider\n    UpdateSpStoragePrice(ctx context.Context, spAddr string, readPrice, storePrice sdk.Dec, freeReadQuota uint64, TxOption gnfdSdkTypes.TxOption) (string, error)\n}\n")),(0,o.kt)("h4",{id:"type-validator"},"Type Validator"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-go"},'type Validator interface {\n    // ListValidators lists all validators (if status is empty string) or validators filtered by status.\n    // status:\n    //  "BOND_STATUS_UNBONDED",\n    //  "BOND_STATUS_UNBONDING",\n    //  "BOND_STATUS_BONDED",\n    ListValidators(ctx context.Context, status string) (*stakingtypes.QueryValidatorsResponse, error)\n\n    CreateValidator(ctx context.Context, description stakingtypes.Description, commission stakingtypes.CommissionRates,\n        selfDelegation math.Int, validatorAddress string, ed25519PubKey string, selfDelAddr string, relayerAddr string, challengerAddr string, blsKey string,\n        proposalDepositAmount math.Int, proposalTitle, proposalSummary, proposalMetadata string, txOption gnfdsdktypes.TxOption) (uint64, string, error)\n    EditValidator(ctx context.Context, description stakingtypes.Description, newRate *sdktypes.Dec,\n        newMinSelfDelegation *math.Int, newRelayerAddr, newChallengerAddr, newBlsKey string, txOption gnfdsdktypes.TxOption) (string, error)\n    DelegateValidator(ctx context.Context, validatorAddr string, amount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n    BeginRedelegate(ctx context.Context, validatorSrcAddr, validatorDestAddr string, amount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n    Undelegate(ctx context.Context, validatorAddr string, amount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n    CancelUnbondingDelegation(ctx context.Context, validatorAddr string, creationHeight int64, amount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n    GrantDelegationForValidator(ctx context.Context, delegationAmount math.Int, txOption gnfdsdktypes.TxOption) (string, error)\n\n    UnJailValidator(ctx context.Context, txOption gnfdsdktypes.TxOption) (string, error)\n    ImpeachValidator(ctx context.Context, validatorAddr string, txOption gnfdsdktypes.TxOption) (string, error)\n}\n')),(0,o.kt)("h2",{id:"code-repository-sdk"},"Code Repository SDK"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/bnb-chain/greenfield-go-sdk"},"Official Go implementation SDK"))),(0,o.kt)("h2",{id:"more-info"},"More info"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/greenfield-blockchain/modules/storage-module"},"Storage Module on Greenfield"),": The storage module on Greenfield Chain."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/greenfield-blockchain/modules/storage-provider"},"Storage Provider on Greenfield"),": The storage provider on Greenfield Chain."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/greenfield-blockchain/modules/data-availability-challenge"},"Data Availability Challenge"),": The correctness of payload be stored in SP."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/storage-provider/introduction/overview"},"Storage Provider Introduction"),": The Greenfield Storage Provider documents."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/storage-provider/run-book/compile-dependences"},"Storage Provider Compiling and Dependencies"),": The detailed introduction to sp compiling and dependencies."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/storage-provider/run-book/run-local-SP-network"},"Run Local Storage Provider Network"),": The introduction to run local SP env for testing."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.bnbchain.org/greenfield-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node"},"Run Testnet Storage Provider Node"),": The introduction to run testnet SP node.")))}u.isMDXComponent=!0}}]);