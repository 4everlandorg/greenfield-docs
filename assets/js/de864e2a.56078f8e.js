"use strict";(self.webpackChunkgreenfield_docs=self.webpackChunkgreenfield_docs||[]).push([[1981],{3905:(e,r,t)=>{t.d(r,{Zo:()=>d,kt:()=>f});var n=t(67294);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=n.createContext({}),c=function(e){var r=n.useContext(l),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},d=function(e){var r=c(e.components);return n.createElement(l.Provider,{value:r},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},g=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(t),g=a,f=p["".concat(l,".").concat(g)]||p[g]||u[g]||i;return t?n.createElement(f,o(o({ref:r},d),{},{components:t})):n.createElement(f,o({ref:r},d))}));function f(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=g;var s={};for(var l in r)hasOwnProperty.call(r,l)&&(s[l]=r[l]);s.originalType=e,s[p]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=t[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}g.displayName="MDXCreateElement"},79494:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var n=t(87462),a=(t(67294),t(3905));const i={title:"Manager",dir:{order:1},order:1},o="Manager",s={unversionedId:"guide/storage-provider/services/manager",id:"guide/storage-provider/services/manager",title:"Manager",description:"The Manager module is responsible for the management work within the SP.",source:"@site/docs/guide/storage-provider/services/manager.md",sourceDirName:"guide/storage-provider/services",slug:"/guide/storage-provider/services/manager",permalink:"/greenfield-docs/docs/guide/storage-provider/services/manager",draft:!1,editUrl:"https://github.com/bnb-chain/greenfield-docs/blob/master/docs/guide/storage-provider/services/manager.md",tags:[],version:"current",frontMatter:{title:"Manager",dir:{order:1},order:1},sidebar:"guideSidebar",previous:{title:"The Greenfield Storage Provider Standard",permalink:"/greenfield-docs/docs/guide/storage-provider/introduction/standard"},next:{title:"P2P",permalink:"/greenfield-docs/docs/guide/storage-provider/services/p2p"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"SP Meta Refresher",id:"sp-meta-refresher",level:3},{value:"Config Manager",id:"config-manager",level:3},{value:"Task Scheduler",id:"task-scheduler",level:3},{value:"Service Register",id:"service-register",level:3},{value:"Protocol",id:"protocol",level:2},{value:"SP DB Interface",id:"sp-db-interface",level:3}],d={toc:c},p="wrapper";function u(e){let{components:r,...i}=e;return(0,a.kt)(p,(0,n.Z)({},d,i,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"manager"},"Manager"),(0,a.kt)("p",null,"The Manager module is responsible for the management work within the SP."),(0,a.kt)("h2",{id:"overview"},"Overview"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"manager-architecture",src:t(49048).Z,width:"932",height:"578"})),(0,a.kt)("div",{style:{textAlign:"center"}},(0,a.kt)("i",null,"Manager Architecture")),(0,a.kt)("h3",{id:"sp-meta-refresher"},"SP Meta Refresher"),(0,a.kt)("p",null,"It is responsible for periodically fetching the metadata from the chain to the internal database,\nand other modules can directly use the metadata in the database. Currently mainly includes storage\nparameters and the SP list."),(0,a.kt)("h3",{id:"config-manager"},"Config Manager"),(0,a.kt)("p",null,"In the future, it will be used as the internal configuration manager of the SP to facilitate the\nunified update and distribution of the configuration information of the SP."),(0,a.kt)("h3",{id:"task-scheduler"},"Task Scheduler"),(0,a.kt)("p",null,"In the future, it will be used as a task scheduler inside the SP, including background replicate\ntasks and GC tasks. It also performs fine-grained management of tasks, including task flow control,\nfail over, etc."),(0,a.kt)("h3",{id:"service-register"},"Service Register"),(0,a.kt)("p",null,"In the future, the SP internal microservice register will facilitate unified management of all\nmicroservices. It can quickly monitor the service quality of each microservice."),(0,a.kt)("h2",{id:"protocol"},"Protocol"),(0,a.kt)("h3",{id:"sp-db-interface"},"SP DB Interface"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-golang"},"// SPInfo interface\ntype SPInfo interface {\n    // UpdateAllSp update all sp info, delete old sp info\n    UpdateAllSp(spList []*sptypes.StorageProvider) error\n    // SetOwnSpInfo set(maybe overwrite) own sp info\n    SetOwnSpInfo(sp *sptypes.StorageProvider) error\n}\n\n// StorageParam interface\ntype StorageParam interface {\n    // SetStorageParams set(maybe overwrite) storage params\n    SetStorageParams(params *storagetypes.Params) error\n}\n")))}u.isMDXComponent=!0},49048:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/08-SP-Manager-cfe012783ae750095ee51107cfbea09f.jpg"}}]);